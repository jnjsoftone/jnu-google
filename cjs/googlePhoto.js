"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"GooglePhoto",{enumerable:!0,get:function(){return o}});const e=require("./googleAuth.js");function t(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class o{async init(){await this.googleAuth.init();let e=await this.googleAuth.authorize();this.service={auth:e,makeRequest:async(t,o="GET",i)=>{let s=`https://photoslibrary.googleapis.com/v1${t}`,r={method:o,headers:{Authorization:`Bearer ${e.credentials.access_token}`,"Content-Type":"application/json"},body:i?JSON.stringify(i):void 0};return(await fetch(s,r)).json()}}}async getAlbums(){return this.service.makeRequest("/albums")}async getPhotos(e=25){return this.service.makeRequest("/mediaItems","POST",{pageSize:e})}constructor({user:o="bigwhitekmc",type:i="oauth2",sn:s=0,scopeDir:r="Apis/google/spec/",authDir:n="Apis/google/"}={}){t(this,"service",void 0),t(this,"googleAuth",void 0),this.googleAuth=new e.GoogleAuth({user:o,type:i,sn:s,scopeDir:r,authDir:n})}}