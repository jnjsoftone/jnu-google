"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"GoogleDrive",{enumerable:!0,get:function(){return o}});const e=require("googleapis"),t=require("./googleAuth.js");function i(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o{async init(){let t=await this.googleAuth.authorize();this.service=e.google.drive({version:"v3",auth:t})}constructor({user:e="bigwhitekmc",type:o="oauth2",sn:r=0,scopeDir:s="",authDir:l=""}={}){i(this,"service",void 0),i(this,"googleAuth",void 0),i(this,"listFiles",async()=>{let e=await this.service,t=(await e.files.list({pageSize:10,fields:"nextPageToken, files(id, name)"})).data.files;if(t?.length===0){console.log("No files found.");return}return t}),this.googleAuth=new t.GoogleAuth({user:e,type:o,sn:r,scopeDir:s,authDir:l})}}